<div layout-padding>
	<!-- APP TITLE AND ACTION BUTTONS ROW -->
	<div layout="row" layout-align="space-between center">
		<h2 tabindex="0" class="md-headline">
			<portlet-icon class='five-px-top-left'></portlet-icon>
			<span class="portlet-title">{{::portlet.title}}</span>
		</h2>
		<div class="action-buttons" ng-hide="GuestMode" hide-xs layout="row">
			<!-- Add to home button with access -->
			<md-button class="md-default  fname-{{::portlet.fname}}"
			           ng-click="addToHome(portlet)"
			           ng-if="portlet.canAdd && !portlet.hasInLayout">
				<span class="fa fa-plus"></span> Add to home
			</md-button>

			<!-- Added to home -->
			<md-button class="fname-{{::portlet.fname}}"
			           ng-disabled="true"
			           ng-if="portlet.canAdd && portlet.hasInLayout"
			           popover="This app is already in your favorites"
			           popover-trigger="mouseenter"
			           popover-placement="left"
			           popover-popup-delay="500">
				<i class="fa fa-check"></i> Added to home
			</md-button>

			<!-- Add to home button without access -->
			<md-button ng-disabled="true" ng-hide="portlet.canAdd" popover="You do not have access to this app"
			           popover-trigger="mouseenter" popover-placement="left" popover-popup-delay="500">
				<span class="fa fa-plus"></span> Add to home
			</md-button>

			<!-- Launch button with access -->
			<md-button class="md-primary" aria-label="launch {{::portlet.title}}" ng-href="{{getLaunchURL(portlet)}}"
			           target="{{::portlet.target}}" ng-if="portlet.canAdd">
				<span class="fa fa-arrow-circle-o-right"></span> Launch
			</md-button>

			<!-- Launch button without access -->
			<md-button ng-disabled="true" ng-hide="portlet.canAdd" popover="You do not have access to this app"
			           popover-trigger="mouseenter" popover-placement="left" popover-popup-delay="500">
				<span class="fa fa-arrow-circle-o-right"></span> Launch
			</md-button>
		</div>

		<!-- DETAILS BUTTON MOBILE -->
		<div class="action-buttons" hide-gt-xs layout="row">
			<md-button class="md-accent" ng-click="navToDetails(portlet, 'Browse')">
				Details
			</md-button>
		</div>

		<!--GuestMode buttons-->
		<div class="action-buttons" ng-show="GuestMode">
			<a class="btn btn-outline" style='margin-right: 15px' ng-href="{{getLaunchURL(portlet)}}" >
				<span ng-if='portlet.hasInLayout'>Launch</span>
				<span ng-if='!portlet.hasInLayout'>Login</span>
			</a>
		</div>
	</div>

  <!-- RATING ROW -->
	<p>
		<rating ng-model="portlet.rating" readonly="true" class="rating"></rating>
		( {{::portlet.userRated}} rating<span ng-if="portlet.userRated !== 1">s</span> )
	</p>

	<!-- DESCRIPTION AND DETAILS ROW -->
	<div layout="row" layout-align="start center">
		<span tabindex="0">{{::portlet.description}}</span>
		<md-button class="md-accent" ng-click="navToDetails(portlet, 'Browse')">
			Details
		</md-button>
	</div>

	<!-- CATEGORIES AND DETAILS BUTTON ROW -->
	<div layout="row" class="category-list container-fluid">
		<a ng-repeat="category in portlet.categories"
		   ng-if="portlet.categories.length > 0"
		   ng-click="selectFilter('category',category)"
		   class="btn btn-outline btn-sm category-links">
			{{::category}}
		</a>
	</div>

  <!-- Action buttons for mobile -->
  <div hide-gt-xs layout="row" layout-align="start center">
    <div ng-show="GuestMode">
      <div>
        <a class="btn btn-outline" ng-href="{{loginToAuthPage + '/web/apps/details/'+ portlet.fname}}" >
          Login to use
        </a>
      </div>
    </div>
    <div ng-hide="GuestMode" layout="row">
      <!-- Add to home button with access on mobile-->
      <md-button class=" md-default fname-{{::portlet.fname}}" ng-click="addToHome(portlet)" ng-show="portlet.canAdd">
        <span class="fa fa-plus"></span> Add to home
      </md-button>

      <!-- Add to home button without access on mobile-->
      <md-button ng-disabled="true" ng-hide="portlet.canAdd" popover="You do not have access to this app"
                 popover-trigger="mouseenter" popover-placement="left" popover-popup-delay="500">
        <span class="fa fa-plus"></span> Add to home
      </md-button>

      <!-- Launch button with access on mobile-->
      <md-button class=" md-primary" aria-label="launch {{::portlet.title}}" ng-href="{{getLaunchURL(portlet)}}"
                 target="{{::portlet.target}}" ng-if="portlet.canAdd">
	      <span class="fa fa-arrow-circle-o-right"></span> Launch
      </md-button>

      <!-- Launch button without access on mobile-->
      <md-button ng-disabled="true" href ng-hide="portlet.canAdd" popover="You do not have access to this app"
                 popover-trigger="mouseenter" popover-placement="left" popover-popup-delay="500">
	      <span class="fa fa-arrow-circle-o-right"></span> Launch
      </md-button>
    </div>
  </div>
</div>
